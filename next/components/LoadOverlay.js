// Styles
import styles from './../styles/Globals.module.scss'

import { useEffect, useState } from 'react'

const LoadOverlay = () => {
  // 1418, 962
  const [width, setWidth] = useState(0)
  const [height, setHeight] = useState(0)

  useEffect(() => {
    if (typeof window !== "undefined") {
      setWidth(window.innerWidth)
      setHeight(window.innerHeight)
    }
  })

  return (
    <div className={`${styles['load-overlay']} fixed top-0 left-0 w-full h-full`}>
      <svg 
        className="load-overlay" 
        viewBox={`0 0 ${width} ${height}`} 
        fill="none" 
        xmlns="http://www.w3.org/2000/svg"
      >
        <g opacity="0.6" filter="url(#filter0_b_231_2731)">
          <path 
            fillRule="evenodd" 
            clipRule="evenodd" 
            d={`M0 20C0 8.95432 8.9543 0 20 0H1398C${width - 8.5} 0 ${width} 8.9543 ${width} 20V942C${width} ${height - 9} ${width - 8.5} ${height} 1398 ${height}H20C8.9543 ${height} 0 ${height - 9} 0 942V20ZM9.7166 683.76H9.48619V615.307C9.48619 596.155 16.7903 591.551 26.3641 591.551C37.6151 591.551 58.6623 597.429 81.8443 603.904C110.031 611.776 141.373 620.53 162.101 620.671H163.357C198.104 620.671 219.267 606.368 219.267 578.521C219.267 558.598 202.643 546.854 181.744 546.854C170.915 546.854 159.336 550.944 147.24 558.095L125.834 570.61C113.495 577.762 96.871 582.611 81.0069 582.611C35.6728 582.611 8.23043 554.508 8.23043 506.75C8.23043 458.991 44.7397 430.888 87.5507 430.888C111.479 430.888 135.396 437.268 156.548 446.219L180.465 456.175C183.25 457.306 185.984 458.453 188.651 459.573C200.462 464.531 210.984 468.947 218.991 468.947C230.581 468.947 236.364 461.282 236.364 451.069C236.364 443.917 234.348 439.068 230.316 431.145L230.823 430.888C246.433 452.857 256.26 470.478 256.26 487.34V490.402C254.498 510.84 240.396 525.142 221.756 525.142C213.634 525.142 197.579 520.052 179.525 514.328C156.142 506.913 129.406 498.436 112.217 498.582C78.7258 498.839 58.5761 511.868 58.5761 538.686C58.5761 561.169 75.6959 574.7 95.3387 574.7C105.166 574.7 115.489 571.639 125.558 565.761L152.505 549.927C169.878 539.714 184.486 536.384 197.078 536.384C232.585 536.384 257.516 560.14 257.516 600.747C257.516 652.338 217.47 683.76 166.099 683.76C145.793 683.76 119.741 674.829 95.6446 666.569C74.9141 659.462 55.6313 652.852 42.7005 652.852C20.788 652.852 11.7212 665.367 9.7166 683.76ZM143.035 876.581C140.27 876.581 135.235 874.793 128.691 871.731V871.72C140.016 852.065 147.562 826.041 147.562 797.447C147.562 741.042 112.078 698.413 63.7604 698.413C42.8733 698.413 20.9839 706.067 9.15207 716.28V805.615H9.65899C25.765 781.625 51.9286 770.138 79.6129 770.138C115.097 770.138 134.728 795.414 134.728 830.634C134.728 842.378 131.456 856.926 124.659 869.686C112.632 863.875 96.8165 855.003 81.0632 846.165C54.6241 831.333 28.3604 816.599 20.477 816.599C12.1705 816.599 9.15207 821.192 9.15207 829.862V920.226C9.15207 937.333 15.4424 948.563 29.5323 948.563C50.9263 948.563 79.1175 931.467 95.9724 912.829C113.588 922.528 133.472 935.031 155.869 949.836H156.376V847.998C165.442 877.597 187.332 894.448 209.728 894.448C238.161 894.448 255.777 874.793 255.777 824.253V792.095C255.777 741.556 193.369 711.174 153.104 697.14H152.597V862.546C152.597 871.731 150.834 876.581 143.035 876.581ZM92.1936 910.784C80.1198 917.924 61.7442 922.013 41.1106 922.013V922.002C24.2558 922.002 12.9309 915.364 12.9309 903.118C12.9309 894.19 20.2235 888.827 30.2926 888.827C44.6359 888.827 65.2696 896.493 92.1936 910.784ZM251.986 824.253C251.986 836.254 243.438 843.908 215.5 843.908C186.56 843.908 156.364 828.086 156.364 790.822V773.971C195.869 781.882 251.986 797.202 251.986 824.253Z`}
            fill="#6944FF"
          />
        </g>
        <defs>
          <filter 
            id="filter0_b_231_2731" 
            x="-20" 
            y="-20" 
            width={width} 
            height={height}
            filterUnits="userSpaceOnUse" 
            colorInterpolationFilters="sRGB"
          >
            <feFlood 
              floodOpacity="0" 
              result="BackgroundImageFix"
            />
            <feGaussianBlur 
              in="BackgroundImageFix" 
              stdDeviation="10"
            />
            <feComposite 
              in2="SourceAlpha" 
              operator="in" 
              result="effect1_backgroundBlur_231_2731"
            />
            <feBlend 
              mode="normal" 
              in="SourceGraphic" 
              in2="effect1_backgroundBlur_231_2731" 
              result="shape"
            />
          </filter>
        </defs>
      </svg>
    </div>
  )
}

export default LoadOverlay